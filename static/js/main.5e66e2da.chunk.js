(this["webpackJsonpreact-ecommerce-app"]=this["webpackJsonpreact-ecommerce-app"]||[]).push([[0],{44:function(t,e,n){},69:function(t,e,n){},70:function(t,e,n){},71:function(t,e,n){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){"use strict";n.r(e);var c,r,a,o,i=n(0),s=n.n(i),d=n(36),u=n.n(d),l=n(5),b=n(3),p=(n(44),n(20)),j=n.n(p),h=n(12),O=n(4),x=n(2);function f(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}var g={};g.Cart=x.c.div(c||(c=Object(b.a)(["\n  display: block;\n  width: 105px;\n  height: 100%;\n"]))),g.CartLink=Object(x.c)(h.b)(r||(r=Object(b.a)(["\n  width: 100%;\n  height: 100%;\n  text-decoration: none;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  color: #fff;\n"]))),g.CartDropdown=x.c.div(a||(a=Object(b.a)(["\n  position: absolute;\n  background-color: black;\n  color: white;\n  top: 100%;\n  width: auto;\n  overflow: hidden;\n  height: auto;\n  max-height: ",";\n  transition: max-height 0.6s ease-out;\n  box-shadow: 0 0 40px rgba(0, 0, 0, 0.25);\n"])),(function(t){return t.isDropdown?"400px":"0"})),g.CartDropdownItem=x.c.li(o||(o=Object(b.a)(["\n  padding: 20px 30px;\n  border: 1px solid rgba(163, 163, 163, 0.5);\n  cursor: pointer;\n\n  &:hover {\n    background-color: #4747ff;\n  }\n"])));var m,C,v,P=g,w=n(1);function y(){var t=Object(i.useContext)(Pt).state,e=Object(i.useState)(!1),n=Object(l.a)(e,2),c=n[0],r=n[1],a=Object(i.useContext)(Pt).dispatch;return Object(w.jsxs)(P.Cart,{onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:[Object(w.jsxs)(P.CartLink,{to:"/cart",children:[Object(w.jsx)("i",{className:"bx bx-cart bx-md"}),"Cart (",t.products.length,")"]}),f()||Object(w.jsx)(P.CartDropdown,{isDropdown:c,children:Object(w.jsxs)("ul",{children:[Object(w.jsx)(P.CartDropdownItem,{onClick:function(){return a({type:"CLEAN_CART"})},children:"Clean Cart"}),Object(w.jsx)(P.CartDropdownItem,{children:"Update Cart"}),Object(w.jsx)(P.CartDropdownItem,{children:"Access Cart"})]})})]})}var _={};_.Navbar=x.c.div(m||(m=Object(b.a)(["\n  width: 100%;\n  height: 50px;\n  background-color: #000000;\n  margin-bottom: 20px;\n  box-shadow: 0 1px 10px #343a40;\n  position: sticky;\n  top: 0;\n  z-index: 1;\n"]))),_.Container=x.c.div(C||(C=Object(b.a)(["\n  width: 82%;\n  height: 100%;\n  margin: auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),_.Title=x.c.span(v||(v=Object(b.a)(["\n  color: #fff;\n  display: block;\n  font-size: 1.5rem;\n"])));var k=_;function T(){return Object(w.jsx)(k.Navbar,{children:Object(w.jsxs)(k.Container,{children:[Object(w.jsx)(h.b,{to:"/",style:{textDecoration:"none"},children:Object(w.jsx)(k.Title,{children:"E-commerce"})}),Object(w.jsx)(y,{})]})})}function E(t){var e={};return t.forEach((function(t){e[t.brand]?e[t.brand]+=1:e[t.brand]=1})),e}n(69),n(70);var N=function(t){var e=Object(i.useState)(t),n=Object(l.a)(e,2),c=n[0],r=n[1],a=Object(i.useCallback)((function(){r(c+1)}),[c]),o=Object(i.useCallback)((function(){r(c-1)}),[c]);return{count:c,incrementCounter:a,decrementCounter:o}};n(71);function R(t){var e=t.product,n=t.counterHook,c=n.count,r=n.incrementCounter,a=n.decrementCounter,o=Object(i.useContext)(Pt).dispatch;return Object(w.jsxs)("div",{className:"counter",children:[Object(w.jsx)("input",{type:"number",value:c,onChange:function(){}}),Object(w.jsxs)("div",{className:"counter__buttons__wrapper",children:[Object(w.jsx)("button",{type:"button",className:"counter__btn",onClick:function(){r(),o({type:"INCREMENT_TOTAL_PRICE",price:e.price})},children:"+"}),Object(w.jsx)("button",{type:"button",className:"counter__btn",onClick:function(){c>0&&(a(),o({type:"DECREMENT_TOTAL_PRICE",price:e.price}))},children:"-"})]})]})}function A(t){var e=t.product,n=N(1),c=Object(i.useContext)(Pt).dispatch;return Object(w.jsxs)("div",{className:"cart__product",children:[Object(w.jsx)("img",{src:e.images[0]}),Object(w.jsxs)("div",{className:"cart__product__info",children:[Object(w.jsx)("span",{children:e.title}),Object(w.jsx)("p",{children:e.description})]}),Object(w.jsxs)("div",{className:"cart__product__controller",children:[Object(w.jsxs)("span",{children:["$",Math.round(100*e.price)/100," x"]}),Object(w.jsx)(R,{product:e,counterHook:n}),Object(w.jsx)("i",{className:"bx bxs-trash remove-product-from-cart-btn",onClick:function(){c({type:"REMOVE_PRODUCT_FROM_CART",product:e,totalProductPrice:n.count*e.price})}})]})]})}function I(t){var e=t.products,n=Object(i.useContext)(Pt).state;return Object(w.jsxs)("div",{className:"shipping-cart",children:[Object(w.jsxs)("div",{className:"shipping-cart__header",children:[Object(w.jsx)("i",{className:"bx bx-cart bx-md"}),"Shipping Cart"]}),e.map((function(t){return Object(w.jsx)(A,{product:t},t.title)})),Object(w.jsxs)("div",{className:"shipping-cart__footer",children:["Total price:",Object(w.jsxs)("span",{children:["$",Math.round(100*n.totalPrice)/100]})]})]})}var S,D,M,B,L,W,z,F,U=function(t,e){for(var n=t.target.offsetWidth,c=t.target.getBoundingClientRect(),r=t.clientX-c.left,a=0;a<=e;){if(a*n/e>r&&r<(a+1)*n/e)return a-1;a++}},H={};H.ProductWrapper=x.c.div(S||(S=Object(b.a)(["\n  overflow: hidden;\n  background-color: white;\n  border: 1px dashed black;\n  width: 100%;\n  height: 100%;\n  transition: all 0.2s;\n\n  &:hover {\n    box-shadow: 0 0 40px rgba(0, 0, 0, 0.25);\n  }\n"]))),H.ProductImgWrapper=x.c.div(D||(D=Object(b.a)(["\n  position: relative;\n  margin: auto;\n  width: 100%;\n  height: 60%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  &:after {\n    content: '';\n    display: block;\n    border-bottom: 1px dashed black;\n    position: absolute;\n    width: 100%;\n    top: 340px;\n  }\n"]))),H.ProductImg=x.c.img(M||(M=Object(b.a)(["\n  width: 80%;\n  height: 90%;\n"]))),H.ProductInfoWrapper=x.c.div(B||(B=Object(b.a)(["\n  width: 100%;\n  height: 40%;\n  padding: 15px;\n"]))),H.ProductTitle=Object(x.c)(h.b)(L||(L=Object(b.a)(["\n  font-size: 0.95rem;\n  text-decoration: none;\n\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),H.ProductPrice=x.c.span(W||(W=Object(b.a)(["\n  display: block;\n  font-size: 1.4rem;\n  font-weight: 500;\n  margin: 15px 0;\n"]))),H.ProductDescription=x.c.p(z||(z=Object(b.a)(["\n  display: block;\n  font-size: 0.85rem;\n"]))),H.AddBtn=x.c.button(F||(F=Object(b.a)(["\n  display: block;\n  width: 50%;\n  height: 45px;\n  background-color: #4747ff;\n  color: white;\n  opacity: ",";\n  margin: auto;\n  margin-top: 15px;\n  cursor: pointer;\n  border: none;\n  border-radius: 2px;\n  transition: all 0.3s;\n"])),(function(t){return f()||t.isShown?"1":"0"}));var G,$,J,V,X,q,K,Q,Y,Z=H,tt=function(t){return"string"!==typeof t?t||"":t.charAt(0).toUpperCase()+t.slice(1)},et={};et.MainProductContainer=x.c.div(G||(G=Object(b.a)(["\n  width: 70%;\n  margin: auto;\n  display: flex;\n  border: 1px solid black;\n"]))),et.ImageWrapper=x.c.div($||($=Object(b.a)(["\n  flex: 0 1 35%;\n  display: flex;\n  flex-flow: column nowrap;\n"]))),et.ProductImg=x.c.img(J||(J=Object(b.a)([""]))),et.ProductInfoContainer=x.c.div(V||(V=Object(b.a)(["\n  flex: 0 1 65%;\n  flex-flow: column nowrap;\n  border-left: 1px solid black;\n  padding: 2rem 3.5rem;\n"]))),et.ProductTitle=x.c.h2(X||(X=Object(b.a)(["\n  display: block;\n  font-size: 1.5rem;\n  margin: 0 0 1rem 0;\n"]))),et.ProductPrice=x.c.span(q||(q=Object(b.a)(["\n  display: block;\n  font-size: 1.8rem;\n  color: #ffc107;\n  margin: 0 0 1.3rem 0;\n"]))),et.ProductPropertyWrapper=x.c.div(K||(K=Object(b.a)(["\n  display: flex;\n  flex-flow: column nowrap;\n  row-gap: 0.3rem;\n  margin-bottom: 1rem;\n  margin-top: 0;\n"]))),et.ProductPropertyTitle=x.c.span(Q||(Q=Object(b.a)(["\n  display: block;\n  font-weight: 500;\n"]))),et.ProductPropertyDescription=x.c.p(Y||(Y=Object(b.a)(["\n  display: block;\n"])));var nt=et;function ct(t){t.phones;var e=Object(O.f)().productId,n=Object(i.useState)(0),c=Object(l.a)(n,2),r=c[0],a=c[1],o=Object(i.useContext)(Pt).dispatch,s=Object(i.useState)(!1),d=Object(l.a)(s,2),u=d[0],b=d[1],p=Object(i.useState)(null),h=Object(l.a)(p,2),x=h[0],g=h[1];Object(i.useEffect)((function(){j.a.get("http://localhost:3001/phones/".concat(e)).then((function(t){g(t.data),b(!0)})).catch((function(t){return console.error(t)}))}),[]);var m=x||null,C=["title","category","images","id"];return u&&m&&Object(w.jsxs)(nt.MainProductContainer,{children:[Object(w.jsx)(nt.ImageWrapper,{children:Object(w.jsx)(nt.ProductImg,{src:m.images[r],onMouseMove:function(t){f()||(-1===U(t,m.images.length)?a(0):a(U(t,m.images.length)))},onMouseOut:function(){return a(0)}})}),Object(w.jsxs)(nt.ProductInfoContainer,{children:[Object(w.jsx)(nt.ProductTitle,{children:m.title}),Object(w.jsx)(nt.ProductPrice,{children:"$".concat(Math.round(100*m.price)/100)}),Object.entries(m).map((function(t){var e=Object(l.a)(t,2),n=e[0],c=e[1];return C.includes(n)||Object(w.jsxs)(nt.ProductPropertyWrapper,{children:[Object(w.jsx)(nt.ProductPropertyTitle,{children:tt(n)}),Object(w.jsx)(nt.ProductPropertyDescription,{children:tt(c)})]},n)})),Object(w.jsx)(Z.AddBtn,{isShown:!0,onClick:function(){o({type:"ADD_PRODUCT_TO_CART",product:m,price:m.price})},children:"Add to cart"})]})]})}var rt;n(72),n(73);function at(t){var e=t.data,n=Object(i.useState)(!1),c=Object(l.a)(n,2),r=c[0],a=c[1],o=Object(i.useState)(0),s=Object(l.a)(o,2),d=s[0],u=s[1],b=Object(i.useContext)(Pt).dispatch;return Object(w.jsxs)(Z.ProductWrapper,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[Object(w.jsx)(Z.ProductImgWrapper,{children:Object(w.jsx)(Z.ProductImg,{src:e.images[d],onMouseMove:function(t){f()||(-1===U(t,e.images.length)?u(0):u(U(t,e.images.length)))},onMouseOut:function(){return u(0)}})}),Object(w.jsxs)(Z.ProductInfoWrapper,{children:[Object(w.jsx)(Z.ProductTitle,{to:"/products/".concat(e.id),children:e.title}),Object(w.jsx)(Z.ProductPrice,{children:"$".concat(Math.round(100*e.price)/100)}),Object(w.jsx)(Z.ProductDescription,{children:e.description}),Object(w.jsx)(Z.AddBtn,{isShown:r,onClick:function(){b({type:"ADD_PRODUCT_TO_CART",product:e,price:e.price})},children:"Add to cart"})]})]})}var ot={};function it(t){var e=t.phones,n=t.handlePageClick,c=t.page,r=Object(i.useCallback)((function(){var t,n;return t=e,n=12,Array.from({length:Math.ceil(t.length/n)},(function(e,c){return t.slice(c*n,c*n+n)}))}),[e]);return Object(w.jsxs)("div",{className:"products",children:[Object(w.jsx)("div",{className:"products__grid",children:e.length?r()[c-1].map((function(t){return Object(w.jsx)(at,{data:t},t.title)})):Object(w.jsx)(ot.NothingFound,{children:"Nothing found..."})}),Object(w.jsx)("div",{className:"pagination",children:e.length>0&&r().map((function(t,e){return Object(w.jsx)("div",{onClick:n,className:"pagination__item",style:{backgroundColor:Number.parseInt(c)===e+1?"#4747ff":"aliceblue",color:Number.parseInt(c)===e+1?"white":"black"},children:e+1},e)}))})]})}ot.NothingFound=x.c.span(rt||(rt=Object(b.a)(["\n  display: block;\n  position: absolute;\n  top: 2rem;\n  font-size: 1.4rem;\n  color: black;\n  margin: auto;\n"])));var st,dt,ut=n(14),lt={};lt.StyledSidebarBox=x.c.div(st||(st=Object(b.a)(["\n  background-color: aliceblue;\n  border: 1px solid rgba(0, 0, 0, 0.125);\n"]))),lt.SidebarBoxTitle=x.c.span(dt||(dt=Object(b.a)(["\n  display: flex;\n  width: 100%;\n  height: 60px;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.6rem;\n  border-radius: 1px;\n  background-color: rgba(0, 0, 0, 0.03);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n"])));var bt,pt,jt=lt;function ht(t){var e=t.title,n=t.content;return Object(w.jsxs)(jt.StyledSidebarBox,{children:[Object(w.jsx)(jt.SidebarBoxTitle,{children:e}),n]})}var Ot={};function xt(t){var e=t.phones,n=t.shopReducer,c=n.state,r=n.dispatch,a=Object(i.useCallback)((function(t){var e=t.target.parentElement.textContent.split(" ")[0],n=t.target.checked,a=Object(ut.a)(c.brands);n?r({type:"BRANDS_FILTER",brands:c.brands.concat([e])}):(a.splice(a.indexOf(e),1),r({type:"BRANDS_FILTER",brands:a}))}),[c.brands]),o=Object(i.useCallback)((function(t){r({type:"SEARCH_FILTER",searchText:t.target.value})}),[c.searchText]);return Object(w.jsxs)(Ot.ShopSidebar,{children:[Object(w.jsx)(ht,{title:"Search",content:Object(w.jsx)(Ot.SearchBar,{type:"text",placeholder:"Search product...",onChange:o})}),Object(w.jsx)(ht,{title:"Brands",content:Object.entries(E(e)).map((function(t){var e=Object(l.a)(t,2),n=e[0],c=e[1];return Object(w.jsx)("li",{children:Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"checkbox",onClick:a}),n," (",c,")"]})},n)}))})]})}Ot.ShopSidebar=x.c.div(bt||(bt=Object(b.a)(["\n  background-color: white;\n  display: flex;\n  flex-flow: column nowrap;\n  row-gap: 1.5rem;\n\n  li {\n    width: 100%;\n    height: 50px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.125);\n    display: flex;\n    justify-content: left;\n    align-items: center;\n    padding-left: 20px;\n\n    label {\n      display: flex;\n      flex-direction: row;\n      flex-wrap: wrap;\n      justify-content: center;\n      align-items: center;\n\n      input[type='checkbox'] {\n        width: 20px;\n        height: 20px;\n        margin-right: 15px;\n        cursor: pointer;\n      }\n    }\n  }\n"]))),Ot.SearchBar=x.c.input(pt||(pt=Object(b.a)(["\n  display: block;\n  width: 80%;\n  padding: 0.5rem 1rem;\n  margin: 0.7rem auto;\n  border-radius: 5px;\n  outline: none;\n  border: 1px solid rgba(0, 0, 0, 0.2);\n"])));var ft=n(7),gt=function(t,e){switch(e.type){case"CHANGE_PAGE":return Object(ft.a)(Object(ft.a)({},t),{},{page:e.page});case"BRANDS_FILTER":return Object(ft.a)(Object(ft.a)({},t),{},{brands:e.brands,page:1});case"SEARCH_FILTER":return Object(ft.a)(Object(ft.a)({},t),{},{searchText:e.searchText});default:return t}};function mt(t){var e=t.phones,n=(t.getBrands,Object(i.useReducer)(gt,{page:1,brands:[],searchText:""})),c=Object(l.a)(n,2),r=c[0],a=c[1],o=Object(i.useCallback)((function(t){t.target.textContent!==r.page&&a({type:"CHANGE_PAGE",page:Number.parseInt(t.target.textContent)}),window.scrollTo(0,0)}),[r.page]),s=Object(i.useCallback)((function(){return 0!==r.brands.length?e.filter((function(t){return""===r.searchText?r.brands.includes(t.brand):r.brands.includes(t.brand)&&t.title.toLowerCase().includes(r.searchText)})):""===r.searchText?e:e.filter((function(t){return t.title.toLowerCase().includes(r.searchText)}))}),[r.brands,r.searchText]);return Object(w.jsxs)("div",{className:"shop__wrapper",children:[Object(w.jsx)(xt,{phones:e,shopReducer:{state:r,dispatch:a}}),Object(w.jsx)(it,{phones:s(),handlePageClick:o,page:r.page})]})}var Ct,vt=function(t,e){switch(e.type){case"ADD_PRODUCT_TO_CART":return t.products.includes(e.product)?t:Object(ft.a)(Object(ft.a)({},t),{},{products:[].concat(Object(ut.a)(t.products),[e.product]),totalPrice:t.totalPrice+e.price});case"REMOVE_PRODUCT_FROM_CART":var n=Object(ut.a)(t.products);return n.splice(n.indexOf(e.product),1),Object(ft.a)(Object(ft.a)({},t),{},{products:Object(ut.a)(n),totalPrice:t.totalPrice-e.totalProductPrice});case"INCREMENT_TOTAL_PRICE":return Object(ft.a)(Object(ft.a)({},t),{},{totalPrice:t.totalPrice+e.price});case"DECREMENT_TOTAL_PRICE":return Object(ft.a)(Object(ft.a)({},t),{},{totalPrice:t.totalPrice-e.price});case"CLEAN_CART":return Object(ft.a)(Object(ft.a)({},t),{},{products:[],totalPrice:0});default:return t}},Pt=s.a.createContext(),wt=Object(x.b)(Ct||(Ct=Object(b.a)(["\n  ul {\n    list-style-type: none;\n  }\n"]))),yt={dark:{headerBackground:"black"}};var _t=function(){var t=Object(i.useReducer)(vt,{products:[],totalPrice:0}),e=Object(l.a)(t,2),n=e[0],c=e[1],r=Object(i.useState)([]),a=Object(l.a)(r,2),o=a[0],s=a[1];return Object(i.useEffect)((function(){j.a.get("http://localhost:3001/phones").then((function(t){return s(t.data)})).catch((function(t){return console.error(t)}))}),[]),Object(w.jsx)(h.a,{children:Object(w.jsxs)(Pt.Provider,{value:{state:n,dispatch:c},children:[Object(w.jsx)(wt,{}),Object(w.jsxs)(x.a,{theme:yt.dark,children:[Object(w.jsx)(T,{}),Object(w.jsxs)(O.c,{children:[Object(w.jsx)(O.a,{exact:!0,path:["/","/react-ecommerce-app"],render:function(){if(o.length)return Object(w.jsx)(mt,{getBrands:E,phones:o})}}),Object(w.jsx)(O.a,{path:"/cart",render:function(){return Object(w.jsx)(I,{products:n.products})}}),Object(w.jsx)(O.a,{path:"/products/:productId",render:function(){return Object(w.jsx)(ct,{phones:o})}})]})]})]})})};u.a.render(Object(w.jsx)(_t,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.5e66e2da.chunk.js.map